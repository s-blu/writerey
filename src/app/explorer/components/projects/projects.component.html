<!--
 Copyright (c) 2020 s-blu
 
 This Source Code Form is subject to the terms of the Mozilla Public
 License, v. 2.0. If a copy of the MPL was not distributed with this
 file, You can obtain one at http://mozilla.org/MPL/2.0/.
-->

<div class="projects" *transloco="let t; read: 'projects'">
  <div class="project-title">
    <button disabled mat-icon-button>
      <mat-icon class="writerey-icon" svgIcon="writerey"></mat-icon>
    </button>
    <span class="title">{{ t('title') }}</span>
    <button mat-icon-button color="primary" class="new-button" (click)="addNewProject()" [matTooltip]="t('new')">
      <i class="material-icons-outlined">library_add</i>
    </button>
  </div>

  <mat-list>
    <mat-list-item class="project-item" *ngFor="let project of projects">
      <div class="name" (click)="selectProject(project.name)">{{ project.name }}</div>
      <button mat-icon-button class="explorer-btn" [matMenuTriggerFor]="projectMenu">
        <mat-icon class="menu">more_vert</mat-icon>
      </button>

      <mat-menu #projectMenu="matMenu">
        <button mat-menu-item (click)="renameProject(project)">
          <mat-icon>text_fields</mat-icon>
          <span>{{ t('rename') }}</span>
        </button>
        <button mat-menu-item (click)="deleteProject(project)">
          <mat-icon>delete</mat-icon>
          <span>{{ t('delete') }}</span>
        </button>
      </mat-menu>
    </mat-list-item>
  </mat-list>

  <div class="empty-hint" *ngIf="!projects || projects?.length === 0">
    {{ t('empty-hint') }}
  </div>
</div>
